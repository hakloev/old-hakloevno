{% extends 'base.html' %}

{% block title %}
{{ block.super }}
&ndash; home
{% endblock %}

{% block content %}
<div class="grid">
    <div class="unit two-thirds">
        <div class="unit whole">
            <section id="about-me">
                <div class="image">
                    <img src="/static/images/me.jpg" class="image-thumbnail" alt="Håkon Ødegård Løvdal">
                </div>
                <p>Welcome to my site! I'm an informatics student at NTNU. Below you can find a list of my most recent blog posts.</p>
            </section>
        </div>
        {% for post in posts %}
            <section class="blog-post-short">
                <h2>{{ post.title }}</h2>
                <small><i class="fa fa-clock-o"></i>&nbsp; {{ post.posted }}</small>
                <p>{{ post.ingress }}</p>
                <a class="button button-default" href={% url 'blog:post_by_slug' post.posted.year post.posted.month post.posted.day post.title|slugify %}>Read more</a>
            </section>
        {% endfor %}
    </div>
    <div class="unit one-third">
        <div class="cube cube-default bus-toggle">
            <div class="cube-header">
                <h1 class="cube-title">Bus departures</h1>
            </div>
            <div class="cube-body" id="bus-widget">
                <div class="cube-row">
                    <span id="busloading">Loading...</span>
                </div>
                <div class="cube-container">
                    <div class="cube-single">
                        Østre Berg
                    </div>
                    <div class="cube-single">
                        Ila
                    </div>
                </div>
                <div class="cube-container">
                    <div class="cube-single">
                        <span id="bus-berg"></span>
                    </div>
                    <div class="cube-single">
                        <span id="bus-ila"></span>
                    </div>
                </div>
            </div>
        </div>
        <div class="cube cube-default">
            <div class="cube-header weather-toggle">
                <h1 class="cube-title" id="weather-location">weather forecast</h1>
            </div>
            <div class="cube-body" id="weather-widget">
                <div class="cube-container">
                    <div class="cube-single">
                        <span id="weather-degrees"></span>
                    </div>
                    <div class="cube-single">
                        <img id="weather-icon-cube"></img>
                    </div>
                </div>
                <div class="cube-container">
                    <div class="cube-single">
                        <span id="weather-info"></span>
                    </div>
                    <div class="cube-single">
                        <span id="weather-rain"></span>
                    </div>
                </div>
                <div class="cube-row">
                    <span id="weather-forecast"></span>
                </div>
                <div class="cube-row">
                    <span id="weather-update">loading...</span>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="grid">
    <div class="unit whole">
    </div>
</div>
{% endblock %}

{% block scriptblock %}
    <script src="/static/js/weather.js" type="text/javascript"></script>
    <script src="/static/js/bus.js" type="text/javascript"></script>
{% endblock %}
